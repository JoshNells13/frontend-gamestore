import{u as y,c as i,a as s,w as h,t as l,b as c,d as m,v,n as p,e as _,f as k,g as x,r as f,h as S,i as V,j as I,o as r,k as j}from"./index-BKCWGQCp.js";const C={class:"login"},N={class:"container"},B={class:"row justify-content-center"},U={class:"col-lg-5 col-md-6"},D={class:"card card-default"},L={class:"card-body"},M={key:0,class:"alert alert-danger"},P={class:"form-group my-3"},T={key:0,class:"invalid-feedback"},z={class:"form-group my-3"},A={key:0,class:"invalid-feedback"},E={class:"mt-4 row"},G={class:"col"},R=["disabled"],q={class:"col"},J={__name:"Login",setup(F){const g=I(),d=y(),o=S({username:"",password:""}),a=f(""),t=f(null),b=async()=>{a.value="",t.value=null;try{await d.signIn(o),g.push("/")}catch(n){n.response?.status===400?t.value=n.response.data.violations:a.value=n.response?.data?.message||"Login failed"}};return(n,e)=>{const w=V("router-link");return r(),i("main",null,[s("section",C,[s("div",N,[s("div",B,[s("div",U,[e[6]||(e[6]=s("h1",{class:"text-center mb-4"},"Gaming Portal",-1)),s("div",D,[s("div",L,[e[5]||(e[5]=s("h3",{class:"mb-3"},"Sign In",-1)),s("form",{onSubmit:h(b,["prevent"])},[a.value?(r(),i("div",M,l(a.value),1)):c("",!0),s("div",P,[e[2]||(e[2]=s("label",{for:"username",class:"mb-1 text-muted"},"Username",-1)),m(s("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=u=>o.username=u),class:p(["form-control",{"is-invalid":t.value?.username}]),autofocus:""},null,2),[[v,o.username]]),t.value?.username?(r(),i("div",T,l(t.value.username.join(", ")),1)):c("",!0)]),s("div",z,[e[3]||(e[3]=s("label",{for:"password",class:"mb-1 text-muted"},"Password",-1)),m(s("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=u=>o.password=u),class:p(["form-control",{"is-invalid":t.value?.password}])},null,2),[[v,o.password]]),t.value?.password?(r(),i("div",A,l(t.value.password.join(", ")),1)):c("",!0)]),s("div",E,[s("div",G,[s("button",{type:"submit",class:"btn btn-primary w-100",disabled:_(d).loading},l(_(d).loading?"Signing In...":"Sign In"),9,R)]),s("div",q,[k(w,{to:"/signup",class:"btn btn-danger w-100"},{default:x(()=>[...e[4]||(e[4]=[j("Sign up",-1)])]),_:1})])])],32)])])])])])])])}}};export{J as default};
