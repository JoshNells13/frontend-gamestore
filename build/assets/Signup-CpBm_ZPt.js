import{u as k,c as n,a as s,w as S,t as d,b as u,k as o,f,g,d as w,v as b,n as y,e as h,r as p,i as U,h as V,o as l}from"./index-BKCWGQCp.js";const C={class:"py-5"},N={class:"container"},j={class:"row justify-content-center"},B={class:"col-lg-5 col-md-6"},P={key:0,class:"alert alert-danger"},D={key:1,class:"alert alert-success"},I={class:"form-item card card-default my-4"},M={class:"card-body"},R={class:"form-group"},T={key:0,class:"invalid-feedback"},z={class:"form-item card card-default my-4"},A={class:"card-body"},E={class:"form-group"},G={key:0,class:"invalid-feedback"},J={class:"mt-4 row"},Y={class:"col"},q=["disabled"],F={class:"col"},L={__name:"Signup",setup(H){const c=k(),a=V({username:"",password:""}),i=p(""),m=p(!1),t=p(null),x=async()=>{i.value="",t.value=null,m.value=!1;try{await c.signUp(a),m.value=!0,a.username="",a.password=""}catch(r){r.response?.status===400?t.value=r.response.data.violations:i.value=r.response?.data?.message||"Registration failed"}};return(r,e)=>{const _=U("router-link");return l(),n("main",null,[e[8]||(e[8]=s("div",{class:"hero py-5 bg-light"},[s("div",{class:"container text-center"},[s("h2",{class:"mb-3"},"Sign Up - Gaming Portal"),s("div",{class:"text-muted"}," Join us today to discover and manage your favorite games. ")])],-1)),s("div",C,[s("div",N,[s("div",j,[s("div",B,[s("form",{onSubmit:S(x,["prevent"])},[i.value?(l(),n("div",P,d(i.value),1)):u("",!0),m.value?(l(),n("div",D,[e[3]||(e[3]=o(" Registration successful! You can now ",-1)),f(_,{to:"/login"},{default:g(()=>[...e[2]||(e[2]=[o("Sign In",-1)])]),_:1}),e[4]||(e[4]=o(". ",-1))])):u("",!0),s("div",I,[s("div",M,[s("div",R,[e[5]||(e[5]=s("label",{for:"username",class:"mb-1 text-muted"},[o("Username "),s("span",{class:"text-danger"},"*")],-1)),w(s("input",{id:"username",type:"text",placeholder:"Username","onUpdate:modelValue":e[0]||(e[0]=v=>a.username=v),class:y(["form-control",{"is-invalid":t.value?.username}])},null,2),[[b,a.username]]),t.value?.username?(l(),n("div",T,d(t.value.username.join(", ")),1)):u("",!0)])])]),s("div",z,[s("div",A,[s("div",E,[e[6]||(e[6]=s("label",{for:"password",class:"mb-1 text-muted"},[o("Password "),s("span",{class:"text-danger"},"*")],-1)),w(s("input",{id:"password",type:"password",placeholder:"Password","onUpdate:modelValue":e[1]||(e[1]=v=>a.password=v),class:y(["form-control",{"is-invalid":t.value?.password}])},null,2),[[b,a.password]]),t.value?.password?(l(),n("div",G,d(t.value.password.join(", ")),1)):u("",!0)])])]),s("div",J,[s("div",Y,[s("button",{type:"submit",class:"btn btn-primary w-100",disabled:h(c).loading},d(h(c).loading?"Signing Up...":"Sign Up"),9,q)]),s("div",F,[f(_,{to:"/login",class:"btn btn-danger w-100"},{default:g(()=>[...e[7]||(e[7]=[o("Sign In",-1)])]),_:1})])])],32)])])])])])}}};export{L as default};
