import{_ as x,l as b,s as k,c as l,a as s,t as n,F as v,m as p,b as c,f as g,g as u,p as w,r as y,i as B,x as N,o as a,k as _,y as C}from"./index-BKCWGQCp.js";const L={key:0},V={class:"hero py-5 bg-light"},F={class:"container text-center"},P={class:"mb-1"},$={class:"mt-2 text-muted"},G={class:"py-5"},T={class:"container"},U={class:"row justify-content-center"},j={class:"col-lg-8 col-md-10"},A={key:0,class:"mb-5"},D={class:"card card-default shadow-sm mb-4"},E={class:"card-body"},H={class:"mb-0"},I={key:1},M={class:"card-body"},R={class:"row"},S={class:"col-4 col-sm-3"},q=["src","alt"],z={class:"col"},J={class:"mb-1"},K={class:"text-muted"},O={class:"text-truncate-2"},Q={class:"text-muted small"},W={key:2,class:"text-center py-5"},X={class:"text-center mt-4"},Y={key:1,class:"text-center py-5"},Z={__name:"UserProfile",setup(ss){const m=N(),e=y(null),i=y(!0),h=async()=>{i.value=!0;try{const r=await w.get(`/v1/users/${m.params.username}`);e.value=r.data}catch(r){console.error("Failed to fetch profile",r)}finally{i.value=!1}};return b(h),k(()=>m.params.username,h),(r,t)=>{const d=B("router-link");return e.value?(a(),l("main",L,[s("div",V,[s("div",F,[s("h2",P,n(e.value.username),1),s("h5",$,"Last Login: "+n(e.value.last_login_at||"Never"),1)])]),s("div",G,[s("div",T,[s("div",U,[s("div",j,[e.value.highscores?.length>0?(a(),l("div",A,[t[0]||(t[0]=s("h5",{class:"mb-3"},"Highscores per Game",-1)),s("div",D,[s("div",E,[s("ol",H,[(a(!0),l(v,null,p(e.value.highscores,(o,f)=>(a(),l("li",{key:f,class:"py-1"},[g(d,{to:`/game/${o.game.slug}`},{default:u(()=>[_(n(o.game.title)+" ("+n(o.score)+")",1)]),_:2},1032,["to"])]))),128))])])])])):c("",!0),e.value.authored_games?.length>0?(a(),l("div",I,[t[2]||(t[2]=s("h5",{class:"mb-3"},"Authored Games",-1)),(a(!0),l(v,null,p(e.value.authored_games,o=>(a(),C(d,{key:o.slug,to:`/game/${o.slug}`,class:"card card-default mb-3 text-decoration-none text-dark shadow-sm"},{default:u(()=>[s("div",M,[s("div",R,[s("div",S,[s("img",{src:o.thumbnail||"/example_game/v1/thumbnail.png",alt:o.title,class:"img-fluid rounded"},null,8,q)]),s("div",z,[s("h5",J,[_(n(o.title)+" ",1),s("small",K,"By "+n(e.value.username),1)]),s("div",O,n(o.description),1),t[1]||(t[1]=s("hr",{class:"mt-2 mb-2"},null,-1)),s("div",Q,"#scores submitted : "+n(o.scoreCount),1)])])])]),_:2},1032,["to"]))),128))])):c("",!0),!e.value.highscores?.length&&!e.value.authored_games?.length?(a(),l("div",W,[...t[3]||(t[3]=[s("p",{class:"text-muted"},"This user has no activity yet.",-1)])])):c("",!0),s("div",X,[g(d,{to:"/discover",class:"btn btn-danger px-5"},{default:u(()=>[...t[4]||(t[4]=[_("Back",-1)])]),_:1})])])])])])])):i.value?(a(),l("div",Y,[...t[5]||(t[5]=[s("div",{class:"spinner-border text-primary",role:"status"},[s("span",{class:"visually-hidden"},"Loading...")],-1)])])):c("",!0)}}},es=x(Z,[["__scopeId","data-v-0066c88a"]]);export{es as default};
